#!/bin/bash

echo "════════════════════════════════════════════════════════════════"
echo "  🎯 Интеграция Google Gemini с Bitrix24 - Готова к запуску!"
echo "════════════════════════════════════════════════════════════════"
echo ""
echo "📁 Структура проекта:"
echo ""
echo "bitrix24-gemini-ai/"
echo "├── 📄 server.js           - Основной сервер"
echo "├── 📄 register-ai.js      - Регистрация в Bitrix24"
echo "├── 📄 list-ai.js          - Просмотр зарегистрированных AI"
echo "├── 📄 setup.sh            - Автоматическая настройка"
echo "├── 📄 package.json        - Зависимости проекта"
echo "├── 📄 .env                - Конфигурация (ваши ключи)"
echo "├── 📄 README.md           - Подробная документация"
echo "└── 📄 QUICKSTART.md       - Краткая инструкция"
echo ""
echo "════════════════════════════════════════════════════════════════"
echo "  📋 Что нужно сделать дальше:"
echo "════════════════════════════════════════════════════════════════"
echo ""
echo "1️⃣  ПОЛУЧИТЬ API КЛЮЧИ:"
echo ""
echo "   🔑 Google Gemini API Key:"
echo "      → https://makersuite.google.com/app/apikey"
echo "      → Нажмите 'Create API Key'"
echo "      → Скопируйте ключ"
echo ""
echo "   🔗 Bitrix24 Webhook URL:"
echo "      → Откройте ваш Bitrix24"
echo "      → Приложения → Разработчикам → Входящий вебхук"
echo "      → Создайте вебхук с правами: ai_admin"
echo "      → Скопируйте URL"
echo ""
echo "────────────────────────────────────────────────────────────────"
echo ""
echo "2️⃣  НАСТРОИТЬ ПРОЕКТ:"
echo ""
echo "   Автоматическая настройка (рекомендуется):"
echo "   $ ./setup.sh"
echo ""
echo "   Или вручную:"
echo "   $ nano .env"
echo "   Заполните GEMINI_API_KEY и BITRIX24_WEBHOOK_URL"
echo ""
echo "────────────────────────────────────────────────────────────────"
echo ""
echo "3️⃣  ЗАПУСТИТЬ СЕРВЕР:"
echo ""
echo "   $ npm start"
echo ""
echo "────────────────────────────────────────────────────────────────"
echo ""
echo "4️⃣  НАСТРОИТЬ ПУБЛИЧНЫЙ ДОСТУП:"
echo ""
echo "   Для локального тестирования (в новом терминале):"
echo "   $ brew install ngrok        # если еще не установлен"
echo "   $ ngrok http 3000"
echo ""
echo "   ⚠️  Скопируйте https:// URL из ngrok!"
echo ""
echo "────────────────────────────────────────────────────────────────"
echo ""
echo "5️⃣  ЗАРЕГИСТРИРОВАТЬ В BITRIX24:"
echo ""
echo "   $ node register-ai.js https://your-ngrok-url.ngrok.io"
echo ""
echo "────────────────────────────────────────────────────────────────"
echo ""
echo "6️⃣  ПРОВЕРИТЬ РЕГИСТРАЦИЮ:"
echo ""
echo "   $ node list-ai.js"
echo ""
echo "════════════════════════════════════════════════════════════════"
echo "  📚 Документация:"
echo "════════════════════════════════════════════════════════════════"
echo ""
echo "   📖 Подробная инструкция:  cat README.md"
echo "   🚀 Быстрый старт:         cat QUICKSTART.md"
echo ""
echo "════════════════════════════════════════════════════════════════"
echo "  ✅ Проект готов к использованию!"
echo "════════════════════════════════════════════════════════════════"
echo ""
